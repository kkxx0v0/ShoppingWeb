<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>登录</title>
    <link rel="stylesheet" type="text/css" href="css/login.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
</head>

<body>
<div id="bigBox">
    <h1>LOGIN</h1>
    <div class="inputBox">
        <form action="/home.html">
            <div class="inputText">
                <i class="fa fa-user-circle" style="color: whitesmoke;"></i>
                <input type="text" placeholder="账号" id="username"/>
            </div>
            <div class="inputText">
                <i class="fa fa-key" style="color: whitesmoke;"></i>
                <input type="password" placeholder="密码" id="password"/>
            </div>
            <input type="submit" class="Button" value="登录" onclick="check()"/>
        </form>
        <input type="submit" class="Button" value="注册" onclick="toSignup()"/>
    </div>
</div>
</body>

<!--<script>-->
<!--    // function check() {-->
<!--    //     var username = request.getParameter("username");-->
<!--    //     var password = request.getParameter("password");-->
<!--    //-->
<!--    //     request.getRequestDispatcher("home.html").forward(request, response);-->
<!--    // }-->
<!--    // 查找元素-->
<!--    function getValue(id) {-->
<!--        return document.getElementById(id).value;-->
<!--    }-->
<!--    function check() {-->
<!--        if(getValue('username') === "test" && getValue('password') === "111") {-->
<!--            return true;-->
<!--        }else {-->
<!--            alert("登录名或密码错误！");-->
<!--            location.href='login';-->
<!--            // 警告框-->
<!--            return false;-->
<!--        }-->
<!--    }-->

<!--</script>-->
<script src="vue.js" type="text/javascript" charset="utf-8"></script>
<script src="axios-0.18.0.js"></script>
<script>
    function toSignup(){
        location.href='signup';
    }
    const vue = new Vue({
        el: '#app',
        data: {
            user:{
                username:'',
                password:''
            }
        },

        methods: {
            handlegetById() {
                axios.post('/user', this.user).then((res) => {
                    if (res.data.success) {
                        document.cookie = res.data.data;
                        if (res.data.errorMsg === '0'){
                            window.location.href = 'admin.html'
                        } else {
                            window.location.href = 'home.html'
                        }
                    } else {
                        alert(res.data.errorMsg);
                    }
                })
            }
        },
    });
</script>

</html>
